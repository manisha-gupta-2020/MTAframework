/* create 3 classes for tables
1) very small table.does not need to be responsive. use class .cl-table
2)small table with small data.  (use classes .cl-table .cl-rwd-table)
2) medium size table. make responsive by collapsing rows (use classes .cl-table .cl-rwd-table-md)
3) large table - make responsive by adding scroll bars (use classes .cl-table .cl-rwd-table-large)
*/

/* 
Issues.
Large table taking html background as background color.
not able to attach scroll bar on width less than 960px

*/

$color-even-cells: lightpink;
$color-odd-cells: lightsteelblue;
$table-border: red;
$table-caption:rgb(151, 151, 209);
$table-background: rgb(223, 223, 247);
$table-link: #008cba;


// $primary-color: #008cba;
// $gray-color: #ddd;
$small-up: 500px;
$medium-up: 640px;
$large-up: 960px;
$radius: 4px;


@mixin heading-font-regular {
	font-family: 'Helvetica', 'Helvetica Neue', 'Arial', sans-serif;;
}


//SUPER BASIC PAGE STYLING

///BASIC TABLE STYLING
.cl-table {
  border-collapse: collapse;
    background-color: $table-background;
    font-size: 1.5rem;
    text-align: left;
    width: 95%;
    margin: 0 auto;
    caption{
      font-size: 2.5rem;
      text-align: left;
      padding-bottom: 5px;
      color: $table-caption;
    }
	thead {	
    tr{
      background-color: $table-link;
      &:hover{
          background-color: complement($table-link); //use of color modifier
      }
      th {
        padding: 0.35em 0 .35em;
        font-weight: bold;
        text-align: center;
        @include heading-font-regular;
        border-bottom: 1px solid $table-border;
        // font-size: 1.25em;
      }
		}		
	}

	tbody {
		border-bottom: 3px solid $table-border;
		tr {
      // border-bottom: 2px solid #ddd;
      &:nth-child(even){
        background-color: $color-even-cells;
        &:hover{
            background-color: opacify($color-even-cells, .3);
        }
      }
      &:nth-child(odd){
        background-color: $color-odd-cells;
        &:hover{
            background-color: opacify($color-odd-cells, .3); 
        }
      }       
			td {
				padding: .75em 0;
				a {
					color: $table-link;
					text-decoration: none;
					display: inline-block;
					margin: 0 .5em 0 0;
					&:hover, &:active, &:focus {
						color: darken($table-link, 10%);
						border: none;
					}
				}
			}
		}
	}

	tfoot {
		td {
			padding: 0.35em 0 .35em;
			text-align: left;
			@include heading-font-regular;
			font-size: 1.25em;
		}
	}
}

///RWD MIXIN BELOW
@mixin rwd-table-collapse{
	display: block;
    tbody {
    border: none;
     }
		tbody, th, td, tr, tfoot {
			display: block; 
		}
		thead {
			display: none;
		}
		tr {
      float: left;
      width: 100%;
      margin: 0 0 1em;
       border: 1px solid $gray;
			box-shadow: 0px 2px 5px 0px $gray;
			border-radius: $radius;
			border-top: 5px solid $table-border;

			td {
				padding: .5em .5em .5em 50%;
				float:left;
       		width: 100%;
				&:before {
					width: 100%;
					display: block;
					float: left;
					padding: .5em .5em .5em 0;
					clear: both;
					margin: -.5em 0 0 -100%;
					@include heading-font-regular;
					font-size: 1.125em;

				}
			}
		}

		// tr:nth-of-type(even) {
		// 	//background: $gray-color;
		// 	td {				
		// 		&:before {					
		// 		}
		// 	}
		// }
}

@mixin rwd-second {
	display: table;
	border: none;
  tbody {
    border-bottom: 3px solid $table-border;
  }
	th, td {
		display: table-cell; 
	}
	tr {
		display: table-row;
		border: none;
		border-bottom: 1px solid #eee;
    float: none;
    margin: 0;
		box-shadow: none;

		td {
			padding: .75em 0 0.75em .25em;
      float: none;
      width: auto;

			&:before {
				padding: 0 !important;
			}
		}
	}
	thead {
		display: table-header-group;
	}
	tbody,tfoot {
		display: table-row-group;
	}
	tr:nth-of-type(even) {
		background:none;
		td {			
			&:before {}
		}
	}
}


%responsive-tables {
  @include rwd-table-collapse;
	@media screen and (min-width: $small-up) {  //640px
		@include rwd-second;
		
	}
}
%responsive-tables-md {
	@include rwd-table-collapse;

	@media screen and (min-width: $medium-up) { //768pc
		@include rwd-second;
		
	}
}

@mixin rwd-table-scroll{
  display: block;
  overflow-x:auto;
  table-layout: fixed;
    // display: block;
    // overflow-y: auto;
  // }
}
%responsive-tables-large {
  // @include rwd-table-collapse;
  @include rwd-table-scroll;
	@media screen and (min-width: $large-up) { //960px
    // @include rwd-second;

    .cl-rwd-table-lrg-wrap{
      overflow-x: inherit;
      // overflow-y: hidden;
    }		
	}
}
/*
%responsive-tables-large {
  @include rwd-table-collapse;
	@media screen and (min-width: $large-up) { //960px
    @include rwd-second;
	}
}
*/
@mixin responsive-tables($headings...) {
	$list: $headings;

	@each $list-headings in $list {
		$i: index($list, $list-headings);
		tbody tr td:nth-of-type(#{$i}):before { 
			content: $list-headings; 
		}
		
		@media screen and (min-width: $small-up) { 
			tbody tr td:nth-of-type(#{$i}):before { 
				content: ''; 
			}
		}

	}
}
@mixin responsive-tables-md($headings...) {
	$list: $headings;

	@each $list-headings in $list {
		$i: index($list, $list-headings);
		tbody tr td:nth-of-type(#{$i}):before { 
			content: $list-headings; 
		}
		
		@media screen and (min-width: $medium-up) { 
			tbody tr td:nth-of-type(#{$i}):before { 
				content: ''; 
			}
		}

	}
}


@mixin responsive-tables-large($headings...) {
	$list: $headings;

	@each $list-headings in $list {
		$i: index($list, $list-headings);
		tbody tr td:nth-of-type(#{$i}):before { 
			content: $list-headings; 
		}
		
		@media screen and (min-width: $large-up) { 
			tbody tr td:nth-of-type(#{$i}):before { 
				content: ''; 
			}
		}

	}
}

.cl-rwd-table{
	@extend %responsive-tables;
	@include responsive-tables('Heading Col 1', 'Heading Col 2', 'Heading Col 3');
}
.cl-rwd-table-md {
	@extend %responsive-tables-md;
	@include responsive-tables-md('Heading Col 1', 'Heading Col 2', 'Heading Col 3', 'Heading Col 4');
}

.cl-rwd-table-large {
	@extend %responsive-tables-large;
	// @include responsive-tables-large('Heading Col 1', 'Heading Col 2', 'Heading Col 3','Heading Col 4','Heading Col 5','Heading Col 6','Heading Col 7','Heading Col 8');
}
